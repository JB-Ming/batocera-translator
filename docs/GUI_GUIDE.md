# GUI 使用指南

## 啟動程式

### Windows .exe 版本
雙擊 `Batocera翻譯工具.exe` 即可啟動

### Python 版本
```bash
python gui.py
```

---

## 介面說明

### 1. 路徑設定區

**Roms 目錄：**
- 點擊「瀏覽...」選擇 Batocera 的 roms 根目錄
- 例如：`D:\Batocera\roms` 或 `/userdata/roms`
- 程式會自動掃描所有子資料夾中的 gamelist.xml

**語系包目錄：**
- 預設為程式目錄下的 `translations` 資料夾
- 建議使用預設值，除非要使用其他位置的語系包

---

### 2. 翻譯設定區

**顯示模式：**
- **僅中文**：只顯示翻譯後的中文名稱
- **中文 (英文)**：主要顯示中文，英文放括號內
- **英文 (中文)**：主要顯示英文，中文放括號內
- **僅英文**：保持原英文（只清理區域標記）

**翻譯遊戲描述：**
- 勾選此選項會同時翻譯 `<desc>` 欄位
- 不勾選則只翻譯遊戲名稱

**最大名稱長度：**
- 設定顯示名稱的最大字元數
- 預設 100 字元
- 超過會自動截斷

**翻譯 API：**
- 選擇翻譯描述使用的 API
- 預設使用 googletrans（免費但不穩定）

---

### 3. 進度顯示區

**目前狀態：**
- 顯示程式目前的運作狀態

**進度條：**
- 顯示處理進度百分比

**日誌輸出：**
- 即時顯示處理過程
- 包含時間戳記
- 可捲動查看歷史記錄

---

### 4. 操作按鈕

**開始翻譯：**
- 執行實際翻譯並修改檔案
- 會自動備份原始 gamelist.xml

**預覽模式：**
- Dry-run，只顯示會改什麼
- 不會實際修改檔案
- 用於確認翻譯結果

**停止：**
- 中止正在執行的翻譯作業

**清空日誌：**
- 清除日誌輸出區域

**語系包管理：**
- 開啟語系包管理視窗（開發中）

**匯入語系包：**
- 從檔案匯入別人分享的語系包

**匯出語系包：**
- 匯出語系包分享給其他人

**設定：**
- 開啟進階設定視窗（開發中）

**關於：**
- 顯示程式版本和資訊

---

## 使用流程

### 標準翻譯流程

1. **選擇 Roms 目錄**
   - 點擊「瀏覽...」選擇 roms 資料夾

2. **設定顯示模式**
   - 選擇喜歡的顯示方式

3. **預覽翻譯**
   - 點擊「預覽模式」查看會翻譯成什麼
   - 檢查日誌輸出

4. **開始翻譯**
   - 確認無誤後點擊「開始翻譯」
   - 等待處理完成

5. **檢查結果**
   - 查看日誌確認翻譯狀況
   - 原始檔案會備份為 `.backup`

---

## 注意事項

### ⚠️ 重要提醒

1. **備份資料**
   - 雖然程式會自動備份，但建議手動備份重要資料

2. **網路連線**
   - 搜尋翻譯需要網路連線
   - 翻譯描述需要存取翻譯 API

3. **處理時間**
   - 有語系包的遊戲翻譯很快
   - 需要搜尋的遊戲較慢（每個約 2-4 秒）

4. **中途停止**
   - 可以隨時點擊「停止」中斷
   - 已處理的檔案會保留修改

---

## 常見問題

**Q: 找不到 Roms 目錄？**
A: 確認路徑是否正確，應該是包含各平台資料夾的根目錄

**Q: 翻譯很慢？**
A: 首次翻譯需要搜尋，後續會使用快取加速

**Q: 翻譯錯誤怎麼辦？**
A: 可以手動編輯語系包 JSON 檔案修正

**Q: 如何還原？**
A: 找到備份檔案 `gamelist.xml.backup`，重新命名為 `gamelist.xml`

**Q: 程式沒反應？**
A: 翻譯在背景執行，不會凍結介面，請查看日誌

---

## 鍵盤快捷鍵（計畫中）

- `Ctrl+O` - 開啟 Roms 目錄選擇
- `Ctrl+S` - 儲存設定
- `Ctrl+L` - 清空日誌
- `F5` - 開始翻譯
- `Esc` - 停止翻譯

---

## 技術支援

遇到問題請查看：
- GitHub Issues
- 說明文件
- 社群論壇
